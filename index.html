<!DOCTYPE html>
<html lang="en">
  <head>
    <meta content="width=device-width,initial-scale=1" name="viewport">    
    <meta charset="utf-8" />
    <title>IParT</title>
    <script type="module">var ye=Object.defineProperty;var we=(r,e,i)=>e in r?ye(r,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):r[e]=i;var C=(r,e,i)=>(we(r,typeof e!="symbol"?e+"":e,i),i);function be(r,e,i,n,t){console.error(r,e,i,n,t);let o=document.createElement("span"),d=typeof r=="string"?r:t?.message??"an error has occurred";o.innerText="("+d+")",document.body.replaceChildren(o)}window.onerror=be;var _e=4e3,U=class{constructor(e){this.info=e;e.addStat("particles",()=>this.particles.size)}particles=new Set;get count(){return this.particles.size}get isFull(){return this.particles.size>=_e}add(e){this.isFull||this.particles.add(e)}remove(e){this.particles.delete(e)}forEach(e){this.particles.forEach(e)}};var B=ve();function ve(){try{let r=Number.parseInt(window.location.hash.substring(1));if(isNaN(r))throw new Error(`could not parse "${window.location.hash.substring(1)}" as an integer`);return r}catch(r){throw new Error(`url fragment must be the token id \u279C ${r}`)}}var re=Ee(B),h=(r,e)=>re()*(e-r)+r,y=(r,e)=>h(r,e)*Math.sign(re()-.5),Me=(r,e)=>Math.floor(h(r,e));var b=(r,e=0)=>r[Me(e,r.length)];function Ee(r){return function(){var e=r+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}}var l=(r,e={})=>b(Object.values(r).filter(i=>typeof i=="number").flatMap(i=>new Array(e[i]??1).fill(i)));var k=(o=>(o[o.Interior=0]="Interior",o[o.Top=1]="Top",o[o.Bottom=2]="Bottom",o[o.Left=3]="Left",o[o.Right=4]="Right",o))(k||{}),O=(t=>(t[t.Point=0]="Point",t[t.Small=.1]="Small",t[t.Medium=.33]="Medium",t[t.Large=1]="Large",t))(O||{}),N=(t=>(t[t.Spattering=1]="Spattering",t[t.Moderate=.2]="Moderate",t[t.Heavy=.1]="Heavy",t[t.Copious=.05]="Copious",t))(N||{}),F=(n=>(n[n.Slow=30]="Slow",n[n.Medium=100]="Medium",n[n.Fast=200]="Fast",n))(F||{}),Se={[0]:0,[.1]:15,[.33]:10,[1]:2},oe=.05,T=.1,De=-.2,Pe=.2,ne=-.2,se=.2,z=class{constructor(e,i,n){this.resize=i;this.position=n;if(this.location==0)this.min_x=h(T,1-T),this.min_y=h(T,1-T),this.max_x=this.min_x,this.max_y=this.min_y;else{let[t,o]=this.getEdgeRange();switch(this.location){case 1:this.min_x=t,this.max_x=o,this.min_y=0,this.max_y=0;break;case 2:this.min_x=t,this.max_x=o,this.min_y=1,this.max_y=1;break;case 3:this.min_x=0,this.max_x=0,this.min_y=t,this.max_y=o;break;case 4:this.min_x=1,this.max_x=1,this.min_y=t,this.max_y=o;break;default:throw new Error(`unhandled location: ${k[this.location]}`)}}e.addStat("emitter location",k[this.location]),e.addStat("emitter size",O[this.size]),e.addStat("emitter volume",N[this.volume]),e.addStat("emitter velocity",F[this.speed])}size=l(O,{[0]:0});location=this.size==0?0:l(k,{[0]:0});min_x;min_y;max_x;max_y;volume=l(N);speed=l(F);divergence=Se[this.size];next=0;getEdgeRange(){if(this.size==1)return[0,1];{let e=this.size/2,i=h(oe+e,1-oe-e);return[i-e,i+e]}}emit(e){return this.next-=e,this.next>0?!1:(this.next=this.volume+this.volume*h(De,Pe),!0)}initPosition(e){switch(e.x=h(this.min_x,this.max_x)*this.resize.width,e.y=h(this.min_y,this.max_y)*this.resize.height,this.location){case 0:e.x-=h(-2,2),e.y-=h(-2,2);break;case 1:e.y-=e.radius,e.edgeDetect=!1;break;case 2:e.y+=e.radius,e.edgeDetect=!1;break;case 3:e.x-=e.radius,e.edgeDetect=!1;break;case 4:e.x+=e.radius,e.edgeDetect=!1;break}}update(e){if(!e.edgeDetect)switch(this.location){case 0:break;case 1:e.y>=e.radius&&(e.edgeDetect=!0);break;case 2:e.y<this.resize.height-e.radius&&(e.edgeDetect=!0);break;case 3:e.x>=e.radius&&(e.edgeDetect=!0);break;case 4:e.x<this.resize.width-e.radius&&(e.edgeDetect=!0);break}}initSpeed(e){if(this.location===0){let i=h(0,Math.PI*2),n=this.speed+this.speed*h(ne,se),t=Math.sin(i)*n,o=Math.cos(i)*n;e.dx+=t,e.dy+=o}else{let i=this.speed+this.speed*h(ne,se),n=y(0,this.divergence),t,o;switch(this.location){case 1:o=n,t=i-this.position.gravity;break;case 2:o=n,t=-(i+this.position.gravity);break;case 3:o=i+this.position.gravity*.8,t=n-this.position.gravity*1.1;break;case 4:o=-i-this.position.gravity*.8,t=n-this.position.gravity*1.1;break}e.dx+=o,e.dy+=t}}};var H=class{info=document.getElementById("info");stats=document.getElementById("stats");token_id=document.getElementById("token_id");updateFunctions=new Set;interval=-1;constructor(){this.token_id.innerText=B.toString()}addStat(e,i){let n=document.createElement("dt");n.innerText=e;let t=document.createElement("dd");switch(typeof i){case"number":t.innerText=i.toString();break;case"string":t.innerText=i.toLowerCase().replace("_"," ");break;case"function":this.updateFunctions.add(()=>t.innerText=i().toString());break}this.stats.append(n,t)}updateInfo(){for(let e of this.updateFunctions)e()}showInfo(){this.updateInfo(),this.info.classList.remove("hidden"),this.interval=setInterval(()=>this.updateInfo(),1e3)}hideInfo(){this.info.classList.add("hidden"),clearInterval(this.interval),this.interval=-1}get isVisible(){return this.interval!=-1}};var K=class{static traceOne(){}static toggleTrace(){}static startTrace(){}static stopTrace(){}trace=!1;died(){}};C(K,"isTracing",!1);var D=class extends K{x=0;y=0;dx=0;dy=0;health=0;life=0;age=0;style="";radius=0;edgeDetect=!0;swallowed=!1;get isOld(){return this.age>this.life}get isDead(){return this.health<=0}kill(){this.health=0,this.died()}forceFrom(e,i,n){let t=e-this.x,o=i-this.y,d=Math.sqrt(t*t+o*o),a=1/d*n,s=Math.atan2(o,t),c=Math.cos(s)*a,f=Math.sin(s)*a;return[c,f,d]}get speed(){return Math.sqrt(this.dx*this.dx+this.dy*this.dy)}};var ae=(i=>(i[i.Push=0]="Push",i[i.Pull=1]="Pull",i))(ae||{}),X=(n=>(n[n.Weak=1e4]="Weak",n[n.Medium=15e3]="Medium",n[n.Strong=2e4]="Strong",n))(X||{}),de=20,R=50,$=class{constructor(e,i,n,t,o,d){this.info=e;this.context=i;this._frame=n;this.swallower=t;this.particles=o;this.resize=d;e.addStat("mouse strength",`${X[this.strength].toLocaleLowerCase()}`);let a=this.context.canvas;a.onpointermove=s=>{if(!this.interacting){if(this.draggingSwallower){let c=s.x-this.pointer_x,f=s.y-this.pointer_y,u=t.x,w=t.y;t.x=Math.max(R,Math.min(d.width-R,t.x+c)),t.y=Math.max(R,Math.min(d.height-R,t.y+f)),c=t.x-u,f=t.y-w,o.forEach(v=>{v.swallowed&&(v.x+=c,v.y+=f)})}}this.pointer_x=s.x,this.pointer_y=s.y},a.onpointerdown=s=>(s.buttons==1&&s.button==0&&(this.info.isVisible?this.info.hideInfo():(this.isOnSwallower(s)?this.draggingSwallower=!0:this.interacting=!0,this.pointer_x=s.x,this.pointer_y=s.y,a.setPointerCapture(s.pointerId))),s.preventDefault(),s.stopPropagation(),!1),a.onpointerup=s=>{(this.interacting||this.draggingSwallower)&&(this.interacting=!1,this.draggingSwallower=!1,this.pointer_x=s.x,this.pointer_y=s.y,a.releasePointerCapture(s.pointerId))},this.show_info.onclick=()=>{e.isVisible?e.hideInfo():e.showInfo()},document.fullscreenEnabled?this.full_screen.onclick=()=>{document.fullscreenElement?document.exitFullscreen():document.documentElement.requestFullscreen()}:this.full_screen.classList.add("hidden")}show_info=document.getElementById("show_info");full_screen=document.getElementById("full_screen");pointer_x=0;pointer_y=0;mode=l(ae,{[1]:0});strength=l(X);frame_strength=0;interacting=!1;draggingSwallower=!1;restart=!1;isOnSwallower(e){let i=this.swallower.x-e.x,n=this.swallower.y-e.y;return Math.sqrt(i*i+n*n)<=this.swallower.radius}frame(e){!this.interacting||(this.frame_strength=this.strength*e)}update(e){if(!this.interacting||e.swallowed)return;let[i,n,t]=e.forceFrom(this.pointer_x,this.pointer_y,this.frame_strength);switch(this.mode){case 0:e.dx-=i,e.dy-=n;break;case 1:if(t<=de){let o=t/de;e.dx=i*o,e.dy=n*o}else e.dx+=i,e.dy+=n;break;default:throw new Error("")}}};var G=class{constructor(e){this.info=e;e.addStat("fps",()=>Math.round(this.fps))}last=performance.now();count=0;elapsed=0;fps=0;debugMode=!1;advanceDebugFrame=!1;getDT(e){let i=(e-this.last)/1e3;return this.last=e,this.count++,this.elapsed+=i,this.elapsed>=1&&(this.fps=this.count,this.count=0,this.elapsed=0),this.debugMode?1/3e3:i>G.MAX_DT?G.MAX_DT:i}nextDebugFrame(){this.advanceDebugFrame=!0}},A=G;C(A,"MAX_DT",1/30);var q=class{constructor(e,i,n){this.info=e;this.context=i;this.particles=n;let t=()=>{this.dpr=window.devicePixelRatio||1;let o=i.canvas.getBoundingClientRect(),d=o.width/this.width,a=o.height/this.height;this.width=o.width,this.height=o.height,i.canvas.width=o.width*this.dpr,i.canvas.height=o.height*this.dpr,i.scale(this.dpr,this.dpr),n.forEach(s=>{s.x*=d,s.y*=a})};window.onresize=t,t(),e.addStat("window",()=>`${i.canvas.clientWidth}x${i.canvas.clientHeight}`),e.addStat("dpr",()=>window.devicePixelRatio)}width=0;height=0;dpr=0};function le(r){return r*r*r}function ce(r){return r*r}var W=(o=>(o[o.None=0]="None",o[o.Small=6e3]="Small",o[o.Medium=12e3]="Medium",o[o.Large=24e3]="Large",o[o.Huge=48e3]="Huge",o))(W||{}),Ie={[0]:0,[6e3]:15,[12e3]:25,[24e3]:35,[48e3]:40},Q=class{constructor(e,i){this.scale=i;this.x=this.scale.width*h(.1,.8),this.y=this.scale.height*h(.1,.8),e.addStat("swallower",W[this.strength].toLowerCase())}strength=l(W,{[0]:0});radius=Ie[this.strength];x;y;frame_strength=0;frame(e){this.strength!=0&&(this.frame_strength=this.strength*e)}update(e,i){if(this.strength==0)return;let[n,t,o]=e.forceFrom(this.x,this.y,this.frame_strength);if((o<e.radius?0:o-e.radius)<=this.radius){let a=this.radius+e.radius,s=o>a?0:1-o/a,c=e.dx,f=e.dy,u=1-ce(s);e.dx*=u,e.dy*=u,e.dx+=n*u,e.dy+=t*u,e.health-=.5*i*s,e.swallowed=!0}else e.dx+=n,e.dy+=t,e.swallowed=!1}};var he=(i=>(i[i.Kill=0]="Kill",i[i.Bounce=1]="Bounce",i))(he||{}),Y=(t=>(t[t.None=0]="None",t[t.Low=.25]="Low",t[t.Medium=.5]="Medium",t[t.High=1]="High",t))(Y||{}),V=(t=>(t[t.None=0]="None",t[t.Low=50]="Low",t[t.Medium=150]="Medium",t[t.High=300]="High",t))(V||{}),fe=0,j=class{constructor(e,i,n){this.canvas=i;this.scale=n;e.addStat("friction",Y[this.friction].toLowerCase()),e.addStat("gravity",V[this.gravity])}friction=l(Y);frame_friction=0;gravity=l(V);frame_gravity=0;minDeflection=h(5,15);maxDeflection=h(15,20);edgeMode=l(he);edgeDetect={[0]:e=>this.edgeKill(e),[1]:e=>this.edgeBounce(e)}[this.edgeMode];frame(e){this.frame_friction=1-this.friction*e,this.frame_gravity=this.gravity*e}update(e,i){if(e.age<fe){if(!e.swallowed){let n=le(e.age/fe),t=1-this.friction*i*n;e.dx*=t,e.dy*=t,e.dy+=this.frame_gravity*n}}else e.swallowed||(e.dx*=this.frame_friction,e.dy*=this.frame_friction,e.dy+=this.frame_gravity);e.x+=e.dx*i,e.y+=e.dy*i,e.edgeDetect&&this.edgeDetect(e)}edgeBounce(e){e.x<0+e.radius?(e.x=e.radius,Math.abs(e.dy)<.5&&(e.dy=y(this.minDeflection,this.maxDeflection)),e.dx=-e.dx):e.x>this.scale.width-e.radius?(e.x=this.scale.width-e.radius,Math.abs(e.dy)<.5&&(e.dy=y(this.minDeflection,this.maxDeflection)),e.dx=-e.dx):e.y<0+e.radius?(e.y=e.radius,Math.abs(e.dx)<.5&&(e.dx=y(this.minDeflection,this.maxDeflection)),e.dy=-e.dy):e.y>this.scale.height-e.radius&&(e.y=this.scale.height-e.radius,Math.abs(e.dx)<.5&&(e.dx=y(this.minDeflection,this.maxDeflection)),e.dy=-e.dy)}edgeKill(e){(e.x<0-e.radius||e.x>this.scale.width+e.radius||e.y<0-e.radius||e.y>this.scale.height+e.radius)&&e.kill()}};var M=10,_=25,E=_-M,p=50;var Z=(a=>(a[a.Fixed_Small=0]="Fixed_Small",a[a.Fixed_Medium=1]="Fixed_Medium",a[a.Fixed_Large=2]="Fixed_Large",a[a.Speed_Grows=3]="Speed_Grows",a[a.Speed_Shrinks=4]="Speed_Shrinks",a[a.Age_Grows=5]="Age_Grows",a[a.Age_Shrinks=6]="Age_Shrinks",a))(Z||{}),S={[0]:r=>10,[1]:r=>15,[2]:r=>20,[3]:r=>M+Math.min(p,r.speed)/p*E,[4]:r=>M+(E-Math.min(p,r.speed)/p*E),[5]:r=>r.age>r.life?_:M+r.age/r.life*E,[6]:r=>r.age>r.life?M:M+(E-r.age/r.life*E)},ct={[0]:r=>10,[1]:r=>15,[2]:r=>20,[3]:S[3],[4]:S[4],[5]:S[5],[6]:S[6]},J=class{mode=l(Z);_init=S[this.mode];_update=S[this.mode];constructor(e){e.addStat("size",Z[this.mode])}init(e){e.radius=this._init(e)}update(e,i){let n=this._update(e);e.radius=n*e.health}};var P=(s=>(s[s.Speed_Darkens=0]="Speed_Darkens",s[s.Speed_Brightens=1]="Speed_Brightens",s[s.Down_Brightens=2]="Down_Brightens",s[s.Up_Brightens=3]="Up_Brightens",s[s.Right_Brightens=4]="Right_Brightens",s[s.Left_Brightens=5]="Left_Brightens",s[s.Age_Darkens=6]="Age_Darkens",s[s.Age_Brightens=7]="Age_Brightens",s))(P||{}),Ce={[3]:0,[2]:0,[5]:0,[4]:0},L=p/2,Be={[0]:r=>Math.min(p,r.speed)/p,[1]:r=>1-Math.min(p,r.speed)/p,[2]:r=>r.dy<=0?1:Math.min(L,r.dy)/r.dy,[3]:r=>r.dy>=0?1:Math.min(L,-r.dy)/-r.dy,[4]:r=>r.dx<=0?1:Math.min(L,r.dx)/r.dx,[5]:r=>r.dx>=0?1:Math.min(L,-r.dx)/-r.dx,[6]:r=>r.age>r.life?1:r.age/r.life,[7]:r=>r.age>r.life?0:1-r.age/r.life},ke=.3,Te=.5,Re=.3,g=_*2,me=0,ue=g*_,I=40,Ae=["DarkRed","Indigo","DarkGreen","DarkGoldenrod","MidnightBlue","Maroon","DarkSlateGray"],pe=["Gray","DarkOrange","Goldenrod","Sienna","MediumBlue","CornflowerBlue","DeepSkyBlue","DarkTurquoise","LightSeaGreen","OliveDrab","ForestGreen","LimeGreen","DarkSlateBlue","Purple","RebeccaPurple","Magenta","Khaki","Gold","Yellow","Orange","MediumVioletRed","Crimson","Salmon"],ee=class{constructor(e,i,n,t){this.context=i;this.swallower=n;this.scale=t;switch(this.innerMode=l(P),this.innerMode){case 5:case 4:this.outerMode=b([3,2]);break;case 3:case 2:this.outerMode=b([5,4]);break;default:this.outerMode=l(P,Ce);break}this.prerenderParticles(),this.prerenderSwallower(),e.addStat("background",this.highlight),e.addStat("outer color",this.color1),e.addStat("inner color",this.color2),e.addStat("outer mode",P[this.outerMode]),e.addStat("inner mode",P[this.innerMode]);let o=document.createElement("style");o.textContent=`.highlight { border-color: ${this.highlight} }`,document.head.append(o)}particlesCanvas=document.createElement("canvas");particlesContext=this.particlesCanvas.getContext("2d");swallowerCanvas=document.createElement("canvas");swallowerContext=this.swallowerCanvas.getContext("2d");innerMode;outerMode;highlight=b(Ae);background=this.getBackgroundColor(this.highlight);color1=b(pe);color2=b(pe);toColorArray(e){this.particlesContext.fillStyle=e;let[i,n,t]=this.particlesContext.fillStyle.substring(1).match(/.{2}/g);return[parseInt(i,16),parseInt(n,16),parseInt(t,16)]}toColorString(e){let i=Math.floor(e[0]).toString(16),n=Math.floor(e[1]).toString(16),t=Math.floor(e[2]).toString(16),o=(i.length<2?"0":"")+i,d=(n.length<2?"0":"")+n,a=(t.length<2?"0":"")+t;return`#${o}${d}${a}`}getParticleColors(e){let i=this.toColorArray(e),n=100/I,t=new Array(I);for(let o=0;o<t.length;++o)i[0]=Math.min(255,i[0]+n),i[1]=Math.min(255,i[1]+n),i[2]=Math.min(255,i[2]+n),t[o]=this.toColorString(i);return t}getBackgroundColor(e){let i=this.toColorArray(e);return i[0]=Math.max(0,i[0]-75),i[1]=Math.max(0,i[1]-75),i[2]=Math.max(0,i[2]-75),this.toColorString(i)}prerenderSwallower(){let e=this.swallower.radius,i=this.swallower.radius*.5,n=e,t=e;this.swallowerCanvas.width=e*2,this.swallowerCanvas.height=e*2;var o=this.swallowerContext.createRadialGradient(n,t,e,n,t,i);o.addColorStop(0,"#00000000"),o.addColorStop(.2,this.highlight),o.addColorStop(1,"#000000ff"),this.swallowerContext.fillStyle=o,this.swallowerContext.fillRect(0,0,e*2,e*2)}prerenderParticles(){this.particlesCanvas.width=g*(_+1)*2*this.scale.dpr,this.particlesCanvas.height=g*I*this.scale.dpr,this.particlesContext.scale(this.scale.dpr,this.scale.dpr);let e=this.getParticleColors(this.color1),i=this.getParticleColors(this.color2);for(let n=0;n<=_;++n){let t=n*g;for(let o=0;o<I;++o){let d=e[o],a=i[o];this.drawOuterGradient(this.particlesContext,g*o,me+t,n,d),this.drawInnerGradient(this.particlesContext,g*o,ue+t,n,a)}}}drawOuterGradient(e,i,n,t,o){let d=n+t,a=i+t,s=Math.floor(t*ke),c=e.createRadialGradient(d,a,t,d,a,s);c.addColorStop(0,o+"00"),c.addColorStop(1,o),e.fillStyle=c,e.beginPath(),e.arc(d,a,t,0,Math.PI*2),e.closePath(),e.fill()}drawInnerGradient(e,i,n,t,o){let d=Math.floor(t*Te),a=Math.floor(t*Re),s=n+t,c=i+t,f=this.context.createRadialGradient(s,c,d,s,c,a);f.addColorStop(0,o+"00"),f.addColorStop(1,o),e.fillStyle=f,e.beginPath(),e.arc(s,c,d,0,Math.PI*2),e.closePath(),e.fill()}init(e){this.drawParticle(e)}drawParticle(e){let i=Math.floor(e.radius),n=(me+i*g)*this.scale.dpr,t=(ue+i*g)*this.scale.dpr,o=this.pickColor(e,this.outerMode)*g*this.scale.dpr,d=this.pickColor(e,this.innerMode)*g*this.scale.dpr,a=i*2*this.scale.dpr,s=a,c=e.x-e.radius,f=e.y-e.radius,u=e.radius*2,w=u;this.context.drawImage(this.particlesCanvas,n,o,a,s,c,f,u,w),this.context.drawImage(this.particlesCanvas,t,d,a,s,c,f,u,w)}pickColor(e,i){let n=Be[i](e);return Math.floor((I-1)*n)}drawBackground(){let e=this.context;e.fillStyle=this.background,e.fillRect(0,0,this.scale.width,this.scale.height);let i=this.swallower.x,n=this.swallower.y,t=this.swallower.radius;e.drawImage(this.swallowerCanvas,i-t,n-t),D.isTracing&&e.drawImage(this.particlesCanvas,0,0)}};var te=(t=>(t[t.Fleeting=3]="Fleeting",t[t.Low=10]="Low",t[t.Medium=30]="Medium",t[t.High=60]="High",t))(te||{}),Ge={[3]:1,[10]:5,[30]:5,[60]:5},ge=(t=>(t[t.None=1]="None",t[t.Slow=.9]="Slow",t[t.Medium=.7]="Medium",t[t.Fast=.5]="Fast",t))(ge||{}),Le=0,Ue=.1,Oe=.1,Ne=.5,ie=class{longevity=l(te,Ge);oldDecline=this.longevity*Oe;stoppedDecline=l(ge);frame_oldDecline=0;frame_stoppedDecline=0;constructor(e){e.addStat("longevity",te[this.longevity].toLowerCase())}init(e){e.health=1,e.life=this.longevity+this.longevity*y(Le,Ue)}frame(e){this.frame_oldDecline=this.oldDecline*e,this.frame_stoppedDecline=this.stoppedDecline*e}update(e,i){e.age+=i,e.isOld&&!e.swallowed&&(e.health-=this.frame_oldDecline),this.stoppedDecline!=1&&e.speed<Ne&&(e.health-=this.frame_stoppedDecline)}};window.onhashchange=()=>window.location.reload();window.onload=()=>{let r=document.createElement("canvas");document.body.appendChild(r);let e=r.getContext("2d");if(e==null)throw new Error("canvas 2d context is not supported");let i=new H,n=new A(i),t=new U(i),o=new q(i,e,t),d=new Q(i,o),a=new $(i,e,n,d,t,o),s=new ee(i,e,d,o),c=new j(i,r,o),f=new z(i,o,c),u=new ie(i),w=new J(i);function v(xe){let x=n.getDT(xe);if(s.drawBackground(),c.frame(x),d.frame(x),u.frame(x),a.frame(x),t.forEach(m=>{d.update(m,x),a.update(m),u.update(m,x),w.update(m,x),f.update(m),c.update(m,x),m.isDead?t.remove(m):s.drawParticle(m)}),!t.isFull&&f.emit(x)){let m=new D;f.initSpeed(m),u.init(m),w.init(m),f.initPosition(m),s.init(m),t.add(m)}window.requestAnimationFrame(v)}v(n.last)};
</script>
    <style>
        html, body {
            height: 100%;
            width: 100%;
            margin: 0;
        }
        body { 
            background-color: black; 
            color: dimgrey; 
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: sans-serif;
        }
        canvas {
            position:absolute;
            height: 100%;
            width: 100%;
            animation: fadeIn 2s;
            z-index: 1;
            touch-action: none;
        }
        @keyframes fadeIn {
              0% {opacity:0;}
            100% {opacity:1;}
        }
        .hidden {
          display:none
        }
        #info {
          z-index: 2;
        }
        
        section {
          position: absolute;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -50%);
          background:black;
          border-width: 3px;
          border-style: ridge;
          padding: 20px;
          margin: 0px;
          color:lightgray;
          display: flex;
          flex-direction: column;
          align-items: center;
          box-shadow: 0px 0px 3px 3px black;
        }
        section > h1 {
          margin:0;
        }
        section > div {
          width: 100%;
        }

        a {
          color:lightslategray
        }

        dl {
          display: grid;
          grid-template-columns: max-content max-content;
        }
        dt {
          grid-column-start: 1;
        }
        dd {
          grid-column-start: 2;
          margin-left: 3px;
          text-align: right;
        }

        #full_screen {
          position: absolute;
          top: 0;
          right: 0;
          border-bottom-left-radius: 50%;
          padding-right: 5px;
          padding-top: 5px;
          align-items: end;
          justify-content: start;
        }

        #show_info {
          position: absolute;
          bottom: 0;
          right: 0;
          border-top-left-radius: 50%;
          padding-right: 5px;
          padding-bottom: 5px;
          font-size: 30px;
          align-items: end;
          justify-content: end;
        }

        .corner {
          background: black;
          z-index: 2;
          width: 40px;
          height: 40px;
          flex-direction: column;
          display: flex;
          opacity: 0;
          transition: opacity 1s ease-in-out;
        }

        .corner:hover {
          opacity: 0.8;
          transition: opacity .5s ease-in-out;
        }

     </style>
  </head>
  <body>
    <span>(loading...)</span>
    <section id="info" class="hidden highlight">
      <h1>IParT #<span id="token_id"></span></h1>
      <nav><a href="https://eyeree.me/IParT" target="top">info</a></nav>
      <dl id="stats">
      </dl>
    </section>
    <div id="full_screen" class="corner">
      <svg width="30" height="30" xmlns="http://www.w3.org/2000/svg">
        <rect id="svg_11" height="12" width="4" y="18" x="26" stroke-width="0" stroke="#000000" fill="dimgray"/>
        <rect id="svg_13" height="12" width="4" y="0" x="26" stroke-width="0" stroke="#000000" fill="dimgray"/>
        <rect id="svg_14" height="12" width="4" y="18" x="0" stroke-width="0" stroke="#000000" fill="dimgray"/>
        <rect id="svg_15" height="12" width="4" y="0" x="0" stroke-width="0" stroke="#000000" fill="dimgray"/>
        <rect id="svg_16" height="4" width="12" y="26" x="18" stroke-width="0" stroke="#000000" fill="dimgray"/>
        <rect id="svg_17" height="4" width="12" y="0" x="0" stroke-width="0" stroke="#000000" fill="dimgray"/>
        <rect id="svg_18" height="4" width="12" y="0" x="18" stroke-width="0" stroke="#000000" fill="dimgray"/>
        <rect id="svg_19" height="4" width="12" y="26" x="0" stroke-width="0" stroke="#000000" fill="dimgray"/>
       </svg>
    </div>
    <div id="show_info" class="corner">
      <svg width="30" height="30" xmlns="http://www.w3.org/2000/svg">
        <ellipse stroke="dimgray" ry="14" rx="14" id="svg_20" cy="15" cx="15" stroke-width="2" fill="none"/>
        <rect id="svg_15" height="12" width="4" y="12.23529" x="13" stroke-width="0" stroke="#000000" fill="dimgray"/>
        <ellipse stroke-width="0" ry="2.35294" rx="2.23529" id="svg_22" cy="8.52941" cx="15" stroke="#000000" fill="dimgray"/>
       </svg>
    </div>
  </body>
</html>